<div class="container-fluid">
  <h2 class="mb-4">Gestion de la Petite Tontine</h2>
  <div class="row">
    <div class="col-md-6 mb-4">
      <div class="card">
        <div class="card-header">
          <h3 class="card-title">Enregistrer une cotisation</h3>
        </div>
        <div class="card-body">
          <form (ngSubmit)="addCotisation()">
            <div class="mb-3">
              <label for="memberId" class="form-label">ID du membre</label>
              <input type="number" class="form-control" id="memberId" [(ngModel)]="nouvelleCotisation.memberId" name="memberId" required>
            </div>
            <div class="mb-3">
              <label for="montant" class="form-label">Montant</label>
              <input type="number" class="form-control" id="montant" [(ngModel)]="nouvelleCotisation.montant" name="montant" required>
            </div>
            <div class="mb-3">
              <label for="date" class="form-label">Date</label>
              <input type="date" class="form-control" id="date" [(ngModel)]="nouvelleCotisation.date" name="date" required>
            </div>
            <button type="submit" class="btn btn-primary">Enregistrer</button>
          </form>
        </div>
      </div>
    </div>

    <div class="col-md-6 mb-4">
      <div class="card">
        <div class="card-header">
          <h3 class="card-title">Historique des cotisations</h3>
        </div>
        <div class="card-body">
          <table class="table table-striped">
            <thead>
            <tr>
              <th>ID Membre</th>
              <th>Montant</th>
              <th>Date</th>
            </tr>
            </thead>
            <tbody>
            <tr *ngFor="let cotisation of cotisations">
              <td>{{ cotisation.memberId }}</td>
              <td>{{ cotisation.montant | currency:'XAF':'symbol':'1.0-0' }}</td>
              <td>{{ cotisation.date | date:'dd/MM/yyyy' }}</td>
            </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-md-6 mb-4">
      <div class="card">
        <div class="card-header">
          <h3 class="card-title">Enregistrer un mouvement de fonds</h3>
        </div>
        <div class="card-body">
          <form (ngSubmit)="addMouvementFonds()">
            <div class="mb-3">
              <label for="type" class="form-label">Type</label>
              <select class="form-control" id="type" [(ngModel)]="nouveauMouvement.type" name="type" required>
                <option value="entree">Entrée</option>
                <option value="sortie">Sortie</option>
              </select>
            </div>
            <div class="mb-3">
              <label for="montantMouvement" class="form-label">Montant</label>
              <input type="number" class="form-control" id="montantMouvement" [(ngModel)]="nouveauMouvement.montant" name="montantMouvement" required>
            </div>
            <div class="mb-3">
              <label for="dateMouvement" class="form-label">Date</label>
              <input type="date" class="form-control" id="dateMouvement" [(ngModel)]="nouveauMouvement.date" name="dateMouvement" required>
            </div>
            <div class="mb-3">
              <label for="description" class="form-label">Description</label>
              <textarea class="form-control" id="description" [(ngModel)]="nouveauMouvement.description" name="description" required></textarea>
            </div>
            <button type="submit" class="btn btn-primary">Enregistrer</button>
          </form>
        </div>
      </div>
    </div>

    <div class="col-md-6 mb-4">
      <div class="card">
        <div class="card-header">
          <h3 class="card-title">Mouvements de fonds</h3>
        </div>
        <div class="card-body">
          <table class="table table-striped">
            <thead>
            <tr>
              <th>Type</th>
              <th>Montant</th>
              <th>Date</th>
              <th>Description</th>
            </tr>
            </thead>
            <tbody>
            <tr *ngFor="let mouvement of mouvementsFonds">
              <td>{{ mouvement.type }}</td>
              <td>{{ mouvement.montant | currency:'XAF':'symbol':'1.0-0' }}</td>
              <td>{{ mouvement.date | date:'dd/MM/yyyy' }}</td>
              <td>{{ mouvement.description }}</td>
            </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-12 mb-4">
      <button class="btn btn-success" (click)="generateRapport()">Générer le rapport de la petite tontine</button>
    </div>
  </div>
</div>
